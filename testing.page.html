<!DOCTYPE html>
<html>
  <head>

    <title>Tic Tac Toe Test!</title>
    <style>
      #testOutput { font-family: helvetica; }
      .true { color: green; }
      .false { color: red; }
    </style>

  </head>

  <body>
    <h1>Test Results</h1>
    <div id="testOutput">
    </div>

  </body>
  <script src="build/board.js"></script>
  <script src="build/tictactoe.ai.js"></script>
  <script src="build/tictactoe.draw.js"></script>
  <script src="build/tictactoe.js"></script>
  <script>

    var system = new AI(),
        draw = new Draw()
    function testAllWinningBoards() {

      return  new Board([1,1,1,0,0,0,0,0,0]).winner(1) &&
              new Board([0,0,0,1,1,1,0,0,0]).winner(1) &&
              new Board([0,0,0,0,0,0,1,1,1]).winner(1) &&
              new Board([1,0,0,1,0,0,1,0,0]).winner(1) &&
              new Board([0,1,0,0,1,0,0,1,0]).winner(1) &&
              new Board([0,0,1,0,0,1,0,0,1]).winner(1) &&
              new Board([1,0,0,0,1,0,0,0,1]).winner(1) &&
              new Board([0,0,1,0,1,0,1,0,0]).winner(1)
    }
    function testAllLosingBoards() {
      return  new Board([1,1,1,0,0,0,0,0,0]).loser(-1) &&
              new Board([0,0,0,1,1,1,0,0,0]).loser(-1) &&
              new Board([0,0,0,0,0,0,1,1,1]).loser(-1) &&
              new Board([1,0,0,1,0,0,1,0,0]).loser(-1) &&
              new Board([0,1,0,0,1,0,0,1,0]).loser(-1) &&
              new Board([0,0,1,0,0,1,0,0,1]).loser(-1) &&
              new Board([1,0,0,0,1,0,0,0,1]).loser(-1) &&
              new Board([0,0,1,0,1,0,1,0,0]).loser(-1)
    }
    function testOccupyReturnsFalseForOccupiedPositions() {
      system.getBoard().occupy(0)
      system.getBoard().occupy(1)
      return !(system.getBoard().occupy(0) || system.getBoard().occupy(1) || !system.getBoard().occupy(2))
    }
    function testSameArray(array1, array2) {
      if (array1.length !== array2.length) {
        return false
      }
      array1 = array1.sort(function(a, b) { return a - b })
      array2 = array2.sort(function(a, b) { return a - b })
      for (var c = 0; c < array1.length; c++) {
        if (array1[c] !== array2[c]) {
          return false
        }
      }
      return true

    }
    function testGetFreePositions() {
      return testSameArray(new Board([0,0,0,0,0,0,1,1,1]).getFreePositions(), [0,1,2,3,4,5]) &&
        testSameArray(new Board([1,0,0,0,0,0,0,0,0]).getFreePositions(), [1,2,3,4,5,6,7,8]) &&
        testSameArray(new Board([1,1,0,0,0,0,0,0,0]).getFreePositions(), [2,3,4,5,6,7,8]) &&
        testSameArray(new Board([1,1,1,0,0,0,0,0,0]).getFreePositions(), [3,4,5,6,7,8]) &&
        testSameArray(new Board([0,0,0,0,0,0,0,0,0]).getFreePositions(), [0,1,2,3,4,5,6,7,8])
    }

    var tests = [
      testAllWinningBoards,
      testAllLosingBoards,
      testOccupyReturnsFalseForOccupiedPositions,
      testGetFreePositions
    ]
    var res

    for (var i = 0; i < tests.length; i++) {
      res = tests[i]()
      var output = document.getElementById('testOutput')
      var ele = document.createElement('div')
      ele.className = res
      ele.innerText = tests[i].name + ': ' + res
      output.appendChild(ele)
    }
  </script>
</html>
